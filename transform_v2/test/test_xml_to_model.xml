<project>
    <target name="cleanup">
    	<delete file="transformation_output/all_inputs.model"/>
    </target>
	<target name="run-tests" depends="cleanup">
	    <epsilon.xml.loadModel name="ALL_INPUTS_XML"
			file="input_xml/All_Core_Input_Parts_netlist.xml" read="true" store="false" />
		<epsilon.emf.loadModel name="ALL_INPUTS_OUT_FOR_TRANSFORM"
			modelfile="transformation_output/all_inputs.model" metamodelfile="../metamodel_v2.ecore"
			read="false" store="true" />
		<epsilon.etl src="../xml_to_model.etl">
			<model ref="ALL_INPUTS_XML" as="XML"/>
			<model ref="ALL_INPUTS_OUT_FOR_TRANSFORM" as="OUT"/>
		</epsilon.etl>
		<epsilon.emf.loadModel name="ALL_INPUTS_OUT"
			modelfile="transformation_output/all_inputs.model" metamodelfile="../metamodel_v2.ecore"
			read="true" store="false" />
		<epsilon.eunit src="test_xml_to_model.eunit">
			<model ref="ALL_INPUTS_OUT"/>
		</epsilon.eunit>
	</target>
</project>